"use strict";(()=>{var t={};t.id=2683,t.ids=[2683],t.modules={399:t=>{t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3747:(t,e,a)=>{a.r(e),a.d(e,{originalPathname:()=>w,patchFetch:()=>v,requestAsyncStorage:()=>x,routeModule:()=>m,serverHooks:()=>g,staticGenerationAsyncStorage:()=>b});var n={};a.r(n),a.d(n,{DELETE:()=>h,GET:()=>l,OPTIONS:()=>f,PATCH:()=>u,POST:()=>d,PUT:()=>y,dynamic:()=>i});var r=a(9303),o=a(8716),s=a(670);let i="force-dynamic";async function p(t){try{let e=await fetch(`http://159.65.205.244:3000/sandboxes/${t}`,{cache:"no-store"});return(await e.json()).url||null}catch{return null}}async function c(t,e,a,n,r){let o;let s=await p(e);if(!s)return new Response("Sandbox not found",{status:404});let i=(a||[]).join("/"),{searchParams:c}=new URL(t.url),l=c.toString(),d=`${s}/${i}${l?"?"+l:""}`,u={method:n,headers:{accept:t.headers.get("accept")||"*/*"}};r&&(u.body=r,u.headers["content-type"]=t.headers.get("content-type")||"application/json");try{o=await fetch(d,{...u,signal:AbortSignal.timeout(1e4)})}catch(t){return new Response(`<!DOCTYPE html><html><head><meta charset="utf-8">
<meta http-equiv="refresh" content="4">
<style>body{margin:0;background:#0a0a0f;color:#888;font-family:monospace;display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:column;gap:12px}
.dot{display:inline-block;animation:blink 1s infinite}.dot:nth-child(2){animation-delay:.3s}.dot:nth-child(3){animation-delay:.6s}
@keyframes blink{0%,100%{opacity:0.2}50%{opacity:1}}</style></head>
<body><div style="color:#3b82f6;font-size:0.9rem">App starting up<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span></div>
<div style="font-size:0.72rem;color:#555">Auto-refreshing every 4s &nbsp;\xb7&nbsp; ${t.message}</div>
<button onclick="location.reload()" style="margin-top:8px;background:#1e293b;border:1px solid #334155;color:#94a3b8;padding:6px 16px;border-radius:6px;cursor:pointer;font-family:monospace;font-size:0.72rem">Reload now</button>
</body></html>`,{status:200,headers:{"Content-Type":"text/html; charset=utf-8","X-Frame-Options":"ALLOWALL","Content-Security-Policy":"frame-ancestors *"}})}let h=o.headers.get("content-type")||"text/plain";if(h.includes("text/html")){let t=await o.text(),a=`/api/sandbox/${e}/proxy/`;return new Response(t=(t=(t=t.replace(/<head([^>]*)>/i,`<head$1><base href="${a}">`)).replace(/(['"`])(\/api\/)/g,`$1${a}api/`)).replace(/fetch\s*\(\s*(['"`])\/((?!api\/sandbox\/))/g,`fetch($1${a}`),{status:o.status,headers:{"Content-Type":"text/html; charset=utf-8","X-Frame-Options":"ALLOWALL","Content-Security-Policy":"frame-ancestors *"}})}return new Response(await o.arrayBuffer(),{status:o.status,headers:{"Content-Type":h}})}async function l(t,{params:e}){let{id:a,path:n}=await e;return c(t,a,n,"GET",null)}async function d(t,{params:e}){let{id:a,path:n}=await e,r=await t.arrayBuffer();return c(t,a,n,"POST",r)}async function u(t,{params:e}){let{id:a,path:n}=await e,r=await t.arrayBuffer();return c(t,a,n,"PATCH",r)}async function h(t,{params:e}){let{id:a,path:n}=await e;return c(t,a,n,"DELETE",null)}async function y(t,{params:e}){let{id:a,path:n}=await e,r=await t.arrayBuffer();return c(t,a,n,"PUT",r)}async function f(){return new Response(null,{status:204})}let m=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/sandbox/[id]/proxy/[[...path]]/route",pathname:"/api/sandbox/[id]/proxy/[[...path]]",filename:"route",bundlePath:"app/api/sandbox/[id]/proxy/[[...path]]/route"},resolvedPagePath:"/tmp/hw-demo/dashboard/app/api/sandbox/[id]/proxy/[[...path]]/route.js",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:x,staticGenerationAsyncStorage:b,serverHooks:g}=m,w="/api/sandbox/[id]/proxy/[[...path]]/route";function v(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:b})}},9303:(t,e,a)=>{t.exports=a(517)}};var e=require("../../../../../../webpack-runtime.js");e.C(t);var a=t=>e(e.s=t),n=e.X(0,[8948],()=>a(3747));module.exports=n})();
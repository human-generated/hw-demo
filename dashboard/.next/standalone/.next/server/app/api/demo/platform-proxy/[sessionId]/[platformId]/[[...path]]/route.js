"use strict";(()=>{var t={};t.id=1889,t.ids=[1889],t.modules={399:t=>{t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3534:(t,e,a)=>{a.r(e),a.d(e,{originalPathname:()=>w,patchFetch:()=>P,requestAsyncStorage:()=>x,routeModule:()=>y,serverHooks:()=>b,staticGenerationAsyncStorage:()=>g});var n={};a.r(n),a.d(n,{DELETE:()=>f,GET:()=>d,OPTIONS:()=>h,PATCH:()=>u,POST:()=>c,PUT:()=>m,dynamic:()=>i});var r=a(9303),o=a(8716),s=a(670);let i="force-dynamic";async function p(t,e){try{let a=await fetch(`http://159.65.205.244:3000/demo/session/${t}`,{cache:"no-store"}),n=((await a.json()).platforms||[]).find(t=>t.id===e);return n?.url||null}catch{return null}}async function l(t,e,a,n,r,o){let s;let i=await p(e,a);if(!i)return new Response("Platform not found",{status:404});let l=(n||[]).join("/"),{searchParams:d}=new URL(t.url),c=d.toString(),u=`${i}/${l}${c?"?"+c:""}`,f={method:r,headers:{accept:t.headers.get("accept")||"*/*"},signal:AbortSignal.timeout(1e4)};o&&(f.body=o,f.headers["content-type"]=t.headers.get("content-type")||"application/json");try{s=await fetch(u,f)}catch(t){return new Response(`<!DOCTYPE html><html><head><meta charset="utf-8">
<meta http-equiv="refresh" content="4">
<style>body{margin:0;background:#0a0a0f;color:#888;font-family:monospace;display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:column;gap:12px}
.dot{display:inline-block;animation:blink 1s infinite}.dot:nth-child(2){animation-delay:.3s}.dot:nth-child(3){animation-delay:.6s}
@keyframes blink{0%,100%{opacity:0.2}50%{opacity:1}}</style></head>
<body><div style="color:#3b82f6;font-size:0.9rem">App starting up<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span></div>
<div style="font-size:0.72rem;color:#555">Auto-refreshing every 4s &nbsp;\xb7&nbsp; ${t.message}</div>
<button onclick="location.reload()" style="margin-top:8px;background:#1e293b;border:1px solid #334155;color:#94a3b8;padding:6px 16px;border-radius:6px;cursor:pointer;font-family:monospace;font-size:0.72rem">Reload now</button>
</body></html>`,{status:200,headers:{"Content-Type":"text/html; charset=utf-8","X-Frame-Options":"ALLOWALL","Content-Security-Policy":"frame-ancestors *"}})}let m=s.headers.get("content-type")||"text/plain";if(m.includes("text/html")){let t=await s.text(),n=`/api/demo/platform-proxy/${e}/${a}/`;return new Response(t=(t=(t=t.replace(/<head([^>]*)>/i,`<head$1><base href="${n}">`)).replace(/(['"`])(\/api\/)/g,`$1${n}api/`)).replace(/fetch\s*\(\s*(['"`])\/((?!api\/demo\/platform-proxy\/))/g,`fetch($1${n}`),{status:s.status,headers:{"Content-Type":"text/html; charset=utf-8","X-Frame-Options":"ALLOWALL","Content-Security-Policy":"frame-ancestors *"}})}return new Response(await s.arrayBuffer(),{status:s.status,headers:{"Content-Type":m}})}async function d(t,{params:e}){let{sessionId:a,platformId:n,path:r}=await e;return l(t,a,n,r,"GET",null)}async function c(t,{params:e}){let{sessionId:a,platformId:n,path:r}=await e,o=await t.arrayBuffer();return l(t,a,n,r,"POST",o)}async function u(t,{params:e}){let{sessionId:a,platformId:n,path:r}=await e,o=await t.arrayBuffer();return l(t,a,n,r,"PATCH",o)}async function f(t,{params:e}){let{sessionId:a,platformId:n,path:r}=await e;return l(t,a,n,r,"DELETE",null)}async function m(t,{params:e}){let{sessionId:a,platformId:n,path:r}=await e,o=await t.arrayBuffer();return l(t,a,n,r,"PUT",o)}async function h(){return new Response(null,{status:204})}let y=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/demo/platform-proxy/[sessionId]/[platformId]/[[...path]]/route",pathname:"/api/demo/platform-proxy/[sessionId]/[platformId]/[[...path]]",filename:"route",bundlePath:"app/api/demo/platform-proxy/[sessionId]/[platformId]/[[...path]]/route"},resolvedPagePath:"/tmp/hw-demo/dashboard/app/api/demo/platform-proxy/[sessionId]/[platformId]/[[...path]]/route.js",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:x,staticGenerationAsyncStorage:g,serverHooks:b}=y,w="/api/demo/platform-proxy/[sessionId]/[platformId]/[[...path]]/route";function P(){return(0,s.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:g})}},9303:(t,e,a)=>{t.exports=a(517)}};var e=require("../../../../../../../webpack-runtime.js");e.C(t);var a=t=>e(e.s=t),n=e.X(0,[8948],()=>a(3534));module.exports=n})();